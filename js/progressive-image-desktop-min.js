window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName&&window.addEventListener("load",function(){var e,t,n=document.getElementsByClassName("progressive replace");(window.addEventListener("scroll",i,!1),window.addEventListener("resize",i,!1),MutationObserver)&&new MutationObserver(function(){n.length!==e&&s()}).observe(document.body,{subtree:!0,childList:!0,attributes:!0,characterData:!0});document.addEventListener("load",a);var a=setTimeout(s,1e3);function i(){t=t||setTimeout(function(){t=null,s()},300)}function s(){n.length&&requestAnimationFrame(function(){for(var t,a,i,s=window.pageXOffset,r=s+window.innerWidth,l=0;l<n.length;)i=(a=s+(t=n[l].getBoundingClientRect()).left)+t.width,r>a&&s<i?(o(n[l]),n[l].classList.remove("replace")):l++;e=n.length})}function o(e){var t=e&&(e.getAttribute("data-href")||e.href);if(t){var n=new Image;e.dataset&&(n.srcset=e.dataset.srcset||"",n.sizes=e.dataset.sizes||""),n.src=t,n.width>=770?(n.className="reveal",console.log(n.width),console.log(n.className)):(n.className="reveal small",console.log(n.width),console.log(n.className)),n.complete?a():n.onload=a}function a(){requestAnimationFrame(function(){t===e.href&&(e.style.cursor="default",e.addEventListener("click",function(e){e.preventDefault()},!1));var a=e.querySelector&&e.querySelector("img.preview");e.insertBefore(n,a&&a.nextSibling).addEventListener("animationend",function(){a&&(n.alt=a.alt||"",e.removeChild(a)),n.classList.remove("reveal")})})}}},!1);